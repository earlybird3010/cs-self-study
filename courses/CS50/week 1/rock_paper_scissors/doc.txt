DEV DIARY — ROCK, PAPER, SCISSORS (PHASE 1)DEV DIARY — ROCK, PAPER, SCISSORS (PHASE 1)

Overview

- Two-player game. A player wins the match by finishing with more points than their opponent.

- Per round: rock beats scissors, scissors cut paper, paper covers rock.

- Scoring: 1 point for a win, 0 for a loss or a tie.

Phase 1 (single player vs computer)
Player

- No sprite at this stage.

- State: p_score, is_p_win, p_choice (r/p/s).

- Earns 1 point when their choice defeats the computer.

Computer

- No sprite at this stage.

- State: pc_score, is_pc_win, pc_choice (r/p/s).

- Earns 1 point when its choice defeats the player.

Game

- num_rounds = total rounds for the match.

- Prompts the player for a choice; computer picks uniformly at random.

- Determines winner for each round; updates scores; prints result and scoreboard.

Game logic (phase 1)

1. Print welcome screen (ASCII art).

2. Ask for number of rounds (positive integer).

3. For each round:
    3.1) Prompt player (r/p/s; case-insensitive; accepts prefixes like “ro”, “rocky” by design).
    3.2) Computer chooses randomly.
    3.3) Display the computer’s choice.
    3.4) Display the round result with a rule line (e.g., “PAPER covers ROCK!”).
    3.5) Display scores.
    3.6) Early stop when winner is determined:
    - If abs(p_score - pc_score) > remaining_rounds, the leader is mathematically uncatchable → stop.
    - Ties still consume a round.

Key decisions

- Input matching: prefix OK (e.g., “scissor”, “rocky”), case-insensitive, leading spaces ignored.

- Ties: 0 points to both; round still counts.

- Early-stop rule: use “lead > remaining rounds” (stronger than simple “first to”).

- RNG seeded once at start with srand((unsigned) time(NULL)).

Notes / C lessons

- Skip leading whitespace in a C string:
  while (*str && isspace((unsigned char)*str)) str++;

- get_string may return NULL at EOF (Ctrl-D). Handle this to avoid infinite prompts:
  on EOF, print a message and exit (current behavior); on I/O error, perror/clearerr and re-prompt.

- CS50 get_int can return INT_MAX on read failure. Check feof(stdin) to detect EOF and exit cleanly; otherwise re-prompt.

- Round outcome uses modulo rule: (player_value - computer_value + 3) % 3 → 0 tie, 1 player win, 2 player loss.

Resume bullets (phase 1)

- Implement a console Rock–Paper–Scissors in C with robust input handling (case-insensitive, prefix matching, EOF/I/O error handling).

- Modularize code into functions (input parsing, decision logic) for readability and reliability.
